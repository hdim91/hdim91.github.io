---
layout: post
title: ê²Œì‹œê¸€ ë„¤ë¹„ê²Œì´ì…˜ ë°” ë§Œë“¤ê¸°
description: >
  ë¸”ë¡œê·¸ ë„¤ë¹„ê²Œì´ì…˜ ë°”ë¥¼ ë§Œë“¤ë©´ì„œ ëŠë‚€ ì 
excerpt_separator: <!--more-->
---

<!--more-->

## ğŸ¤·â€â™€ï¸ ì™œ ë§Œë“¤ì—ˆì–´?

ë¸”ë¡œê·¸ë¥¼ ì‹œì‘í•˜ê³  ê¸€ì„ ì˜¬ë¦¬ë©´ì„œ ë¶ˆí¸í•œ ì ì´ ìƒê¸°ê³ , ê³ ì¹˜ê³  ì‹¶ì€ ì ì´ ìƒê²¼ë‹¤.   
ë‹¨ìˆœíˆ ì´ì•¼ê¸°ë‚˜ ì½”ë“œ ì‘ì„± ì™¸ì˜ ì§œì„ìƒˆìˆëŠ” ê¸€ì„ ì˜¬ë¦´ ë•Œ ì´ìƒí•˜ê²Œë„ ê¸€ì˜ êµ¬ì¡°ê°€ í•œ ëˆˆì— ë“¤ì–´ì˜¤ì§€ ì•ŠëŠ” ì ì´ ë„ˆë¬´ ë¶ˆí¸í–ˆë‹¤.   
ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ê¸€ì€ ì‹ ê¸°í•˜ê²Œë„ ìˆ ìˆ  ì½íˆëŠ”ë° ì™œì¸ì§€ ë‚´ í¬ìŠ¤íŒ…ë§Œ ì˜ ì•ˆì½íˆëŠ” ê²ƒ ê°™ê³  ì¤‘êµ¬ë‚œë°©ìœ¼ë¡œ í©ì–´ì ¸ ìˆëŠ” ëŠë‚Œì´ ê³„ì† ë“¤ì—ˆë‹¤.   
ê·¸ë˜ì„œ ~~ë„¤ë¹„ê²Œì´ì…˜ ë°”~~ê°€ í•„ìš”í•˜ë‹¤ê³  ëŠê¼ˆê³ , ì´ê²Œ ìˆìœ¼ë©´ ê¸€ì„ ì“´ í›„ì—ë„ êµ¬ì¡°ë¥¼ ë³´ë©´ì„œ ìˆ˜ì •/ë³´ì™„í•  ìˆ˜ ìˆì„ ê²ƒì´ë¼ëŠ” ê¸°ëŒ€ë¥¼ í–ˆë‹¤.   
í•˜ì§€ë§Œ ë‹¨ìˆœíˆ í…Œë§ˆ ê°œë…ìœ¼ë¡œ ì‹œì‘í–ˆê¸° ë•Œë¬¸ì— ì •í™•í•˜ê²Œ ì–´ë–»ê²Œ í˜ì´ì§€ê°€ ë§Œë“¤ì–´ ì§€ëŠ”ì§€ ì•Œ ì§€ ëª»í•´ì„œ ì‹œë„ì¡°ì°¨ í•  ìˆ˜ ì—†ì—ˆë‹¤.   
ì´ë²ˆì— [ë„¤íŠ¸ì›Œí¬](https://mkl0819.github.io/network) ì •ë¦¬ë¥¼ í•˜ë©´ì„œ ì´ ë¶ˆí¸í•¨ì´ ë” í¬ê²Œ ëŠê»´ì¡Œê³  ë„ˆë¬´ **ì§œì¦**ì´ ë‚˜ì„œ ê·¸ëƒ¥ ë¬´í„±ëŒ€ê³  ë§Œë“¤ì–´ë³´ê¸°ë¡œ í–ˆë‹¤.   
ìš°ì„ , jekyll ë¸”ë¡œê·¸ë¥¼ í•˜ëŠ” ì‚¬ëŒìœ¼ë¡œì„œ rubyë¥¼ ëª¨ë¥¸ë‹¤ëŠ” ì‚¬ì‹¤ì´ êµ‰ì¥íˆ ë¶€ë„ëŸ½ì§€ë§Œ... í˜„ì¬ ë‚´ê°€ í•  ìˆ˜ ìˆëŠ” ì„ ì—ì„œ ê³ ì³ë³´ê³ ì ë…¸ë ¥í–ˆë‹¤.   

## ğŸ¤·â€â™€ï¸ ì–´ë–»ê²Œ í–ˆì–´?

### 0. ì–´ë””ë¥¼ ì–´ë–»ê²Œ ë§Œì ¸ì•¼í• ê¹Œ...

![directory](../img/0301.png)   
ëŒ€ì¶© êµ¬ì¡°ë¥¼ ì‚´í´ë³´ë‹ˆ ì „ì²´ì ì¸ í™”ë©´ì€ `main.html`ì—ì„œ ë§Œë“¤ì–´ì§€ê³ ,   
ìš°ë¦¬ê°€ ì‘ì„±í•œ í¬ìŠ¤íŠ¸ëŠ” `post.html`ì—ì„œ êµ¬ì„±ì´ ëœë‹¤.
     
     
{% raw %}    
``` html
{% assign post          = include.post          %}
{% assign no_link_title = include.no_link_title %}
{% assign no_excerpt    = include.no_excerpt    %}
{% assign hide_image    = include.hide_image    %}

<article id="post{{ post.id | replace:'/','-' }}" class="page post mb6" role="article">
  <header>
    <h1 class="post-title">
      {% unless no_link_title %}<a href="{{ post.url | relative_url }}" class="flip-title">{% endunless %}
        {{ post.title }}
      {% unless no_link_title %}</a>{% endunless %}
    </h1>

    <p class="post-date heading">
      {% assign post_format = site.data.strings.date_formats.post | default:"%d %b %Y" %}
      <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date:post_format }}</time>
      {% assign category_start     = site.data.strings.category_start     | default:"in " %}
      {% assign tag_start          = site.data.strings.tag_start          | default:"on " %}
      {% assign category_separator = site.data.strings.category_separator | default:" / " %}
      {% assign tag_separator      = site.data.strings.tag_separator      | default:", "  %}
      {% include components/tag-list.html tags=post.categories meta=site.featured_categories start_with=category_start separator=category_separator %}
      {% include components/tag-list.html tags=post.tags meta=site.featured_tags start_with=tag_start separator=tag_separator %}
    </p>

    {% assign alt = false %}
    {% unless hide_image %}{% if post.image %}
      <div class="img lead sixteen-nine">
        {% include components/hy-img.html img=post.image alt=post.title %}
      </div>
      {% assign alt = '' %}
    {% endif %}{% endunless %}

    {% include components/message.html text=post.description hide=page.hide_description alt=alt %}
  </header>

  {% if no_excerpt %}
    {{ post.content }}          // ìš°ë¦¬ê°€ ì‘ì„±í•œ markdown íŒŒì¼
  {% else %}
  {{ post.excerpt }}
  {% capture post_title %}<a class="heading flip-title" href="{{ post.url | relative_url }}">{{ post.title }}</a>{% endcapture %}
  {% assign text = site.data.strings.continue_reading | default:"Continue reading <!--post_title-->" %}
  <footer>
    <p class="read-more">
      {{ text | replace:"<!--post_title-->", post_title }}
    </p>
  </footer>
  {% endif %}
</article>
```
{% endraw %}
ìœ„ì˜ ì½”ë“œëŠ” `post.html`ì´ë‹¤.   


![article2](../img/0303.png) 
![article3](../img/0302.png)
{% raw %}`{% if no_excerpt %}`{% endraw %} ì½”ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ `<article>` íƒœê·¸ëŠ” **í¬ìŠ¤íŒ… í•˜ë‚˜ì˜ ìƒì„¸ í˜ì´ì§€**ë¥¼ ë‚˜íƒ€ë‚´ê±°ë‚˜ **í¬ìŠ¤íŒ… ëª©ë¡ì˜ ë¯¸ë¦¬ë³´ê¸°** ë¶€ë¶„ì„ ë‚˜íƒ€ë‚¸ë‹¤.

**í¬ìŠ¤íŒ… í•˜ë‚˜ì˜ ìƒì„¸ í˜ì´ì§€**ëŠ” {% raw %}`{% if no_excerpt %}`{% endraw %}ì¼ ê²½ìš°ì´ê³  í•´ë‹¹ `markdown` íŒŒì¼ì€ ë³€í™˜ê¸°ë¥¼ ê±°ì³ì„œ {% raw %}`{{post.content}}`{% endraw %} ì— ë“¤ì–´ê°€ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.


ì´ë¥¼ í†µí•´ ì•Œì•„ë‚¸ ê²ƒì€   
1. post.html ì—ì„œ ì‘ì—…í•´ì•¼ í•¨
2. {% raw %}`{% if no_excerpt %}`{% endraw %} ì¼ ë•Œë§Œ ë‚˜ì˜¤ê²Œ í•´ì•¼ í•¨
3. ë§Œë§Œì¹˜ ì•Šì„ ê²ƒì„

### 1. ì‹¤íŒ¨ì“°1
{% raw %}
```javascript
function upgradeHeading(h) {
    const df = importTemplate("_permalink-template");
  const a = df.querySelector(".permalink");
  console.log(h.id)
  requestAnimationFrame(() => ((a.href = `#${h.id}`), h.appendChild(df)));
}
```
{% endraw %}
`push-state.js` íŒŒì¼ì— ë³´ë©´ `upgradeHeading` í•¨ìˆ˜ê°€ ë³€í™˜ëœ md íŒŒì¼ì˜ `header` íƒœê·¸ì— ë§í¬ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì¤€ë‹¤.   
ë‚˜ë„ ì´ íŒŒì¼ì„ í™œìš©í•´ì„œ í•´ë³´ë ¤ê³  í–ˆì§€ë§Œ ë‚˜ì˜ ë„ˆë¬´ë‚˜ë„ ì‘ê³  ì†Œì¤‘í•œ ì—­ëŸ‰ë•Œë¬¸ì— ì„±ê³µí•˜ì§€ ëª»í–ˆë‹¤.   

### 2. ì‹¤íŒ¨ì“°2

ë‘ ë²ˆì§¸ ìƒê°í•œ ê²ƒì€   
`post.html` íŒŒì¼ì²˜ëŸ¼ `post-nav-list.html` íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ   
{% raw %}
```javascript
  {% if no_excerpt %}
    {{ post.content }}
    {%  include.post-nav-list.html post=post.content %}          
  {% else %}
```
{% endraw %}
**post.html**
{% raw %}
```javascript
{% assign post = include.post %}

<div class="post-nav-list">
    {{post.content}}
</div>
```
{% endraw %}
**post-nav-list.html**

ì´ë ‡ê²Œ `post-nav-list.html` íŒŒì¼ì— md íŒŒì¼ ë‚´ìš©ì„ ë„˜ê¸°ê³  **css**ë¥¼ ì´ìš©í•´ì„œ ë§Œë“¤ì—ˆë‹¤.   
ê²°ê³¼ëŠ” **ì„±ê³µ**ì²˜ëŸ¼ ë³´ì˜€ì§€ë§Œ `display: none;`ìœ¼ë¡œ ëˆˆì†ì„ì„ í–ˆì„ ë¿ ì •í™•íˆ ë˜‘ê°™ì€ ë‚´ìš©ì„ ì¤‘ë³µí•´ì„œ ê°€ì§€ê³  ìˆëŠ” ê²°ê³¼ì˜€ë‹¤.   
ê²Œë‹¤ê°€ **css** ì ìš©ë„ ì˜ ë˜ì§€ ì•Šì•˜ë‹¤... ã… ã…  í˜ë“¤ì–´ (í•´ë‹¹ í˜ì´ì§€ì—ì„œ ìƒˆë¡œê³ ì¹¨í•´ì•¼ ì •ìƒì‘ë™)  

### 3. ì„±ê³µì“° >_<

> ì§€ê¸‹ì§€ê¸‹í•œ ì˜¤ë¥˜ë†ˆë“¤
> 1. postë¥¼ êµ¬ì„±í•˜ê³  ìˆëŠ” article íƒœê·¸ ë‚´ë¶€ì— navë¥¼ ìƒì„±í•˜ë‹ˆê¹Œ ë¸Œë¼ìš°ì € ê¸°ì¤€ì´ ì•„ë‹Œ article íƒœê·¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ positionì´ ì„¤ì •ë˜ì—ˆìŒ
> 2. í•´ë‹¹ í˜ì´ì§€ì—ì„œ ìƒˆë¡œê³ ì¹¨ì„ í•´ì•¼ ì œëŒ€ë¡œ ëœ css ì ìš©ì´ ë˜ì—ˆìŒ
> 3. í˜„ì¬ í•„ìš”í•œ h1~h6 íƒœê·¸ ì™¸ì—ë„ ì „ì²´ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆìŒ

ì•„ë¬´ë¦¬ ìƒê°í•´ë„ ë¹„íš¨ìœ¨ì ì´ê³  ë¬´ì‹í•œ ë°©ë²•ì´ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆê³    
`post.html`ì—ì„œ `script` íƒœê·¸ë¥¼ í†µí•´ í•´ê²°í•˜ê³ ì í–ˆë‹¤.   
{% raw %}
```javascript
<script>
    var pushStateEl = document.getElementsByTagName('hy-push-state')[0];
    var postContent = document.getElementsByTagName('article')[0];

    var postNavList = document.createElement("div");
    postNavList.classList.add("post-nav-list");
    
    var headers = ["H1", "H2", "H3", "H4", "H5", "H6"];

    for(var i=0, size=postContent.childElementCount; i<size; i++){
        if(0<=headers.indexOf(postContent.children[i].tagName)){
            var link = document.createElement('a');
            link.href = "#" + postContent.children[i].id;
            link.append(postContent.children[i].cloneNode(true));
            postNavList.append(link);
        }else if(postContent.children[i].tagName=="SCRIPT"){
            break;
        }
    }
    pushStateEl.appendChild(postNavList);
</script>
```
{% endraw %}
>**pushStateEl**   
>- `article`ì˜ ë¶€ëª¨ì¸ `main` íƒœê·¸ì™€ ë™ê¸‰ì— ìœ„ì¹˜í•´ì•¼ëœë‹¤ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì— ì´ë“¤ì˜ ë¶€ëª¨ì¸ `hy-push-state`íƒœê·¸ë¥¼ ë¶ˆëŸ¬ì˜´ 
>
>**postContent**     
>- post ë‚´ìš©ì„ êµ¬ì„±í•˜ëŠ” `article` íƒœê·¸      
>
>**postNavList**   
> - ë‚´ê°€ ë§Œë“¤ê³ ì í•˜ëŠ” ë„¤ë¹„ê²Œì´ì…˜ ë°”!!!!!!!   
> - class ì ìš©ìœ¼ë¡œ style ë¶€ë¶„ì€ í•´ê²° >_<    
>
>**headers**
> - í—¤ë” íƒœê·¸ì¸ì§€ êµ¬ë¶„í•˜ê¸° ìœ„í•œ í—¤ë” ë°°ì—´    

**postContent**ì˜ ìì‹ ìš”ì†Œë“¤ì´ **headers**íƒœê·¸ì¸ì§€ ê²€ì‚¬í•˜ë©´ì„œ ë§Œì•½ ë§ë‹¤ë©´ **a** íƒœí¬ë¥¼ ìƒì„±í•˜ê³  í•´ë‹¹ ìš”ì†Œì˜ idë¡œ ê°ˆ ìˆ˜ ìˆë„ë¡ **href** ì„¤ì •ì„ í•œ í›„
**postNavList**ì— ì¶”ê°€í•œë‹¤.   
ëª¨ë“  íƒìƒ‰ì´ ëë‚˜ë©´ **css**ê°€ ì˜ ì ìš©ë  ìˆ˜ ìˆë„ë¡ **pushStateEl**ì— **postNavList**ë¥¼ ì¶”ê°€í•œë‹¤.   

ì´ì™¸ì— ì•½ê°„ì˜ css ì¡°ì •ì„ í•˜ë©´ì„œ ì‘ì€í™”ë©´ì¼ ë•ŒëŠ” ì•ˆë‚˜ì˜¤ê²Œ í•˜ëŠ” ë“±ì˜ ì‘ì—…ì„ í–ˆë‹¤.  

## ğŸ˜ ì›Œë—˜?????

í›„... ì¡°ê¸ˆ í˜ë“¤ì—ˆë‹¤. ê·¸ë¦¬ê³  ê¸°ë»¤ë‹¤!   
ì‚¬ì‹¤ ì´ ë°©ë²•ì€ **ì•¼ë§¤**ë‹¤. ì •í™•í•˜ì§€ ì•Šê³  ë§¤ìš° ë¶€ë„ëŸ¬ìš´ ë°©ë²•ì´ë¼ëŠ” ê²ƒì„ ë‚˜ë„ ì•Œê¸´ ì•Œì§€ë§Œ   
í˜„ì¬ ë‚˜ì˜ ì‹¤ë ¥ê³¼ ì‹œê°„ê³¼ ë…¸ë ¥ì„ ì¢…í•©í•´ë´¤ì„ë•Œ ìµœì„ ì˜ ì„ íƒì´ì—ˆê³  ë‚˜ë¦„ ê´œì°®ì€ ê²°ê³¼ë¥¼ ê°€ì ¸ì™”ë‹¤ê³  ìƒê°í•œë‹¤.   
ë‚˜ì¤‘ì— ì´ ì½”ë“œë“¤ì„ ë³´ê³  êµ‰ì¥íˆ ì´ë¶ˆì„ ì°° ìˆ˜ë„ ìˆê² ì§•...   
ê·¸ë˜ë„ ì¡°ê¸ˆ ìª½íŒ”ë¦° ë°©ë²•ì´ë¼ë„ ë‚´ê°€ í•„ìš”í•œ ê²ƒì„ ë§Œë“¤ì–´ëƒˆë‹¤ëŠ” ê²ƒì— ì˜ë¯¸ë¥¼ ê°€ì§€ê¸°ë¡œ í–ˆë‹¤.   
ê·¸ë¦¬ê³  ê·¸ëƒ¥ ë‘˜ ìˆ˜ë„ ìˆì—ˆì§€ë§Œ ë‚˜ë¦„ ê³ ìƒí–ˆìœ¼ë‹ˆê¹Œ ê¸°ë¡ì„ ë‚¨ê²¨ë³´ê¸°ë¡œ í–ˆë‹¹!   
ë¯¸ë˜ì˜ ë‚´ê°€ ë” ì¢‹ì€ ì½”ë“œë¡œ ìˆ˜ì •í•´ì£¼ê² ì§€! ê·¸ëŸ¼ ì˜¤ëŠ˜ì€ ì—¬ê¸°ê¹Œì§€!! 